<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematical Creature - Interactive Visualization</title>
    <style>
        :root {
            --dark-bg: #090909;
            --panel-bg: rgba(20, 20, 20, 0.9);
            --text-color: #e0e0e0;
            --accent-color: #ff6b6b;
            --secondary-accent: #4ecdc4;
            --tertiary-accent: #ffe66d;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--dark-bg);
            color: var(--text-color);
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            color: var(--accent-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        h2 {
            color: var(--secondary-accent);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
            margin-top: 30px;
        }
        
        h3 {
            color: var(--tertiary-accent);
        }
        
        .visualization-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .canvas-wrapper {
            flex: 1;
            min-width: 300px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        
        canvas {
            display: block;
            background: #000;
        }
        
        .controls {
            padding: 15px;
            background: var(--panel-bg);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .control-group {
            margin-bottom: 10px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .explanation {
            flex: 1;
            min-width: 300px;
            background: var(--panel-bg);
            padding: 20px;
            border-radius: 8px;
        }
        
        .formula-section {
            background: var(--panel-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .formula {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .parameter {
            color: var(--accent-color);
        }
        
        .function {
            color: var(--secondary-accent);
        }
        
        .constant {
            color: var(--tertiary-accent);
        }
        
        .color-schemes {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        
        .color-scheme {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            border-radius: 5px;
        }
        
        .color-blocks {
            display: flex;
            height: 40px;
            margin-bottom: 10px;
        }
        
        .color-block {
            flex: 1;
        }
        
        .controls-explanation {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .control-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 5px;
        }
        
        .citation {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-style: italic;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .visualization-container {
                flex-direction: column;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Mathematical Creature: Parametric Life Form</h1>
            <p>How mathematical equations create organic-looking forms and motion</p>
        </header>
        
        <div class="visualization-container">
            <div class="canvas-wrapper">
                <canvas id="creatureCanvas"></canvas>
                <div class="controls">
                    <div class="control-group">
                        <label for="speed">Speed</label>
                        <input type="range" id="speed" min="0" max="2" step="0.1" value="1">
                    </div>
                    <div class="control-group">
                        <label for="particles">Particles</label>
                        <input type="range" id="particles" min="100" max="5000" step="100" value="2000">
                    </div>
                    <div class="control-group">
                        <label for="complexity">Complexity</label>
                        <input type="range" id="complexity" min="0.5" max="2" step="0.1" value="1">
                    </div>
                    <div class="control-group">
                        <label for="colorScheme">Color Scheme</label>
                        <select id="colorScheme">
                            <option value="romantic">Romantic Blush</option>
                            <option value="ocean">Ocean Depths</option>
                            <option value="forest">Forest Canopy</option>
                            <option value="sunset">Desert Sunset</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="explanation">
                <h2>What This Visualization Represents</h2>
                <p>This animation demonstrates how complex, organic-looking forms can emerge from mathematical equations. It shows:</p>
                <ul>
                    <li>A main "creature" with three smaller companion forms</li>
                    <li>How parametric equations create lifelike motion</li>
                    <li>The relationship between mathematical parameters and visual complexity</li>
                    <li>Algorithmic color application that enhances organic appearance</li>
                </ul>
                
                <h3>Key Concepts</h3>
                <p>This is an example of <strong>emergence</strong> - where simple rules create complex behavior. Each point follows deterministic mathematical rules, but collectively they create the impression of a living, breathing organism.</p>
                
                <div class="color-schemes">
                    <div class="color-scheme">
                        <h4>Color Schemes</h4>
                        <div class="color-blocks">
                            <div class="color-block" style="background: rgba(118, 33, 107, 1)"></div>
                            <div class="color-block" style="background: rgba(209, 109, 130, 1)"></div>
                            <div class="color-block" style="background: rgba(243, 223, 196, 1)"></div>
                        </div>
                        <p>Romantic Blush</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="formula-section">
            <h2>The Mathematical Foundation</h2>
            <p>The creature is generated using parametric equations that calculate the position of each point based on its index and time.</p>
            
            <h3>Core Equations</h3>
            <div class="formula">
                For each point with index <span class="parameter">i</span>:<br>
                <span class="parameter">x</span> = <span class="parameter">i</span><br>
                <span class="parameter">y</span> = <span class="parameter">i</span> / <span class="constant">235.0</span><br><br>
                
                <span class="parameter">k</span> = (<span class="constant">4</span> + <span class="function">sin</span>(<span class="parameter">x</span>/<span class="constant">11</span> + <span class="constant">8</span>*<span class="parameter">t</span>)) * <span class="function">cos</span>(<span class="parameter">x</span>/<span class="constant">14</span>)<br>
                <span class="parameter">e</span> = <span class="parameter">y</span>/<span class="constant">8</span> - <span class="constant">19</span><br>
                <span class="parameter">d</span> = <span class="function">sqrt</span>(<span class="parameter">k</span>² + <span class="parameter">e</span>²) + <span class="function">sin</span>(<span class="parameter">y</span>/<span class="constant">9</span> + <span class="constant">2</span>*<span class="parameter">t</span>)<br>
                <span class="parameter">q</span> = <span class="constant">2</span>*<span class="function">sin</span>(<span class="constant">2</span>*<span class="parameter">k</span>) + <span class="function">sin</span>(<span class="parameter">y</span>/<span class="constant">17</span>)*<span class="parameter">k</span>*(<span class="constant">9</span> + <span class="constant">2</span>*<span class="function">sin</span>(<span class="parameter">y</span> - <span class="constant">3</span>*<span class="parameter">d</span>))<br>
                <span class="parameter">c</span> = <span class="parameter">d</span>²/<span class="constant">49</span> - <span class="parameter">t</span><br><br>
                
                Final position:<br>
                <span class="parameter">xp</span> = (<span class="parameter">q</span> + <span class="constant">50</span>*<span class="function">cos</span>(<span class="parameter">c</span>) + <span class="constant">200</span>) * sizeFactor + positionOffsetX<br>
                <span class="parameter">yp</span> = <span class="constant">400</span> - (<span class="parameter">q</span>*<span class="function">sin</span>(<span class="parameter">c</span>) + <span class="parameter">d</span>*<span class="constant">39</span> - <span class="constant">440</span>) * sizeFactor + positionOffsetY
            </div>
            
            <h3>Equation Components</h3>
            <ul>
                <li><strong>Trigonometric functions</strong> (sin, cos): Create periodic, wave-like motion</li>
                <li><strong>Square root</strong>: Calculates distances between conceptual points</li>
                <li><strong>Polynomial terms</strong>: Add complexity to the motion paths</li>
                <li><strong>Time parameter (t)</strong>: Drives the animation forward</li>
                <li><strong>Size and position factors</strong>: Create the different creatures</li>
            </ul>
        </div>
        
        <div class="formula-section">
            <h2>Color Algorithm</h2>
            <p>The colors are generated algorithmically based on position and time:</p>
            
            <div class="formula">
                <span class="parameter">posFactor</span> = (<span class="function">sin</span>(<span class="parameter">x</span> * <span class="constant">0.01</span> + <span class="parameter">time</span>) + <span class="constant">1</span>) * <span class="constant">0.5</span><br>
                <span class="parameter">timeFactor</span> = (<span class="function">sin</span>(<span class="parameter">time</span> * <span class="constant">2</span> + <span class="parameter">index</span> * <span class="constant">0.0001</span>) + <span class="constant">1</span>) * <span class="constant">0.5</span><br>
                <span class="parameter">blendFactor</span> = (<span class="parameter">posFactor</span> + <span class="parameter">timeFactor</span>) * <span class="constant">0.5</span><br><br>
                
                Color is interpolated between two colors from the selected palette based on <span class="parameter">blendFactor</span>.
            </div>
        </div>
        
        <h2>Control Parameters</h2>
        <div class="controls-explanation">
            <div class="control-item">
                <h3>Speed</h3>
                <p>Controls the rate of time progression (t parameter), affecting animation speed.</p>
            </div>
            
            <div class="control-item">
                <h3>Particles</h3>
                <p>Determines how many points are rendered. More points create a denser, more defined form.</p>
            </div>
            
            <div class="control-item">
                <h3>Complexity</h3>
                <p>Scales the parameters in the equations, creating more intricate patterns.</p>
            </div>
            
            <div class="control-item">
                <h3>Color Scheme</h3>
                <p>Changes the color palette used for rendering the points.</p>
            </div>
        </div>
        
        <div class="formula-section">
            <h2>Applications and Significance</h2>
            <p>This visualization demonstrates concepts used in various fields:</p>
            
            <ul>
                <li><strong>Procedural generation</strong>: Creating organic forms algorithmically</li>
                <li><strong>Mathematical biology</strong>: Modeling organic patterns and forms</li>
                <li><strong>Computer graphics</strong>: Efficient rendering of complex forms</li>
                <li><strong>Data visualization</strong>: Representing complex mathematical relationships</li>
                <li><strong>Digital art</strong>: Creating aesthetically pleasing algorithmic art</li>
            </ul>
            
            <p>The fact that such lifelike forms can emerge from pure mathematics raises interesting questions about the mathematical nature of biological forms and patterns in nature.</p>
        </div>
        
        <div class="citation">
            <p>Creative concept/idea by @yuruyurau | Live interactive demo</p>
        </div>
    </div>

    <script>
        // Canvas setup
        const canvas = document.getElementById('creatureCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas size
        function resizeCanvas() {
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = 500;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // Control elements
        const speedControl = document.getElementById('speed');
        const particlesControl = document.getElementById('particles');
        const complexityControl = document.getElementById('complexity');
        const colorSchemeControl = document.getElementById('colorScheme');
        
        // Color palettes
        const colorPalettes = {
            romantic: [
                {r: 118, g: 33, b: 107},
                {r: 209, g: 109, b: 130},
                {r: 243, g: 223, b: 196}
            ],
            ocean: [
                {r: 0, g: 30, b: 60},
                {r: 0, g: 105, b: 148},
                {r: 0, g: 180, b: 216},
                {r: 144, g: 224, b: 239}
            ],
            forest: [
                {r: 26, g: 51, b: 30},
                {r: 87, g: 117, b: 70},
                {r: 171, g: 193, b: 120},
                {r: 232, g: 237, b: 223}
            ],
            sunset: [
                {r: 54, g: 0, b: 51},
                {r: 123, g: 35, b: 64},
                {r: 222, g: 115, b: 75},
                {r: 243, g: 222, b: 138}
            ]
        };
        
        // Animation variables
        let t = 0;
        let animationId;
        
        // Draw the creature
        function drawCreature() {
            const speed = parseFloat(speedControl.value);
            const numParticles = parseInt(particlesControl.value);
            const complexity = parseFloat(complexityControl.value);
            const colorScheme = colorSchemeControl.value;
            const palette = colorPalettes[colorScheme];
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw multiple creatures with different parameters
            drawSingleCreature(canvas.width/2, canvas.height/2, 1, t, numParticles, complexity, palette);
            drawSingleCreature(canvas.width/2 - 150, canvas.height/2 - 100, 0.4, t*1.3, numParticles/4, complexity, palette);
            drawSingleCreature(canvas.width/2 + 180, canvas.height/2 - 80, 0.5, t*0.8, numParticles/3, complexity, palette);
            drawSingleCreature(canvas.width/2, canvas.height/2 + 150, 0.6, t*1.1, numParticles/2, complexity, palette);
            
            // Update time
            t += 0.01 * speed;
            
            // Continue animation
            animationId = requestAnimationFrame(drawCreature);
        }
        
        function drawSingleCreature(offsetX, offsetY, sizeFactor, time, numParticles, complexity, palette) {
            for (let i = 0; i < numParticles; i++) {
                // Base parameters
                const x = i;
                const y = i / 235.0;
                
                // Mathematical operations that create the organic form
                const k = (4 + Math.sin(x/11 + 8*time)) * Math.cos(x/14);
                const e = y/8 - 19;
                const d = Math.sqrt(k*k + e*e) + Math.sin(y/9 + 2*time);
                const q = 2*Math.sin(2*k) + Math.sin(y/17)*k*(9 + 2*Math.sin(y - 3*d));
                const c = (d*d)/49 - time;
                
                // Final position calculation
                const xp = (q + 50*Math.cos(c) + 200) * sizeFactor + offsetX;
                const yp = 400 - (q*Math.sin(c) + d*39 - 440) * sizeFactor + offsetY;
                
                // Scale to canvas
                const scaledX = (xp / 600) * canvas.width;
                const scaledY = (yp / 600) * canvas.height;
                
                // Skip points that would be outside canvas
                if (scaledX < 0 || scaledX > canvas.width || scaledY < 0 || scaledY > canvas.height) {
                    continue;
                }
                
                // Color calculation based on position and time
                const colorIndex = Math.floor(Math.abs(Math.sin(x * 0.01 + time) * palette.length) % palette.length);
                const nextColorIndex = (colorIndex + 1) % palette.length;
                const blend = (Math.sin(time * 2 + i * 0.0001) + 1) * 0.5;
                
                const r = Math.floor(palette[colorIndex].r + blend * (palette[nextColorIndex].r - palette[colorIndex].r));
                const g = Math.floor(palette[colorIndex].g + blend * (palette[nextColorIndex].g - palette[colorIndex].g));
                const b = Math.floor(palette[colorIndex].b + blend * (palette[nextColorIndex].b - palette[colorIndex].b));
                
                // Draw the point
                ctx.beginPath();
                ctx.arc(scaledX, scaledY, 2 * sizeFactor, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, 0.8)`;
                ctx.fill();
            }
        }
        
        // Start animation
        drawCreature();
        
        // Update particle count display
        particlesControl.addEventListener('input', function() {
            document.querySelector('label[for="particles"]').textContent = `Particles (${this.value})`;
        });
        
        // Initial update
        document.querySelector('label[for="particles"]').textContent = `Particles (${particlesControl.value})`;
    </script>
</body>
</html>